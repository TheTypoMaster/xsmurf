<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- Generated by TclDoc 0.3 -->
<html>
<head><title>edit.tcl</title></head>
<body bgcolor="#ffffff">
<font size="-2">
<a href="xsmurf_tcl_lib_intro.html">Overview</a> | Index by:  <a href="index_main.html#edit.tcl">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a>
</font>
<hr>
<strong>edit.tcl</strong>
(<a href="edit.tcl-annot.html">annotations</a> | <a href="edit.tcl.txt">original source</a>)
<p>
<pre>
<font color="#208020"># edit.tcl --</font>
<font color="#208020">#</font>
<font color="#208020">#       This file implements the Tcl code for ...</font>
<font color="#208020">#</font>
<font color="#208020">#   Copyright 1998 Centre de Recherche Paul Pascal, Bordeaux, France.</font>
<font color="#208020">#   Written by Nicolas Decoster.</font>
<font color="#208020">#</font>
<font color="#208020">#  RCS : $Id: edit.tcl,v 1.4 1998/10/21 17:59:13 decoster Exp $</font>
<font color="#208020">#</font>

<font color="#208020"># edit --</font>
<font color="#208020"># Edit a script and eval it.</font>

<strong><a name="edit_14">proc <a href="edit.tcl-annot.html#edit">edit</a></a></strong><a name="edit"></a> {} {
    global pid
    global sm_editor
    set local_tmp_dir /tmp

    set file_name ~/.smurf/last_script.tcl
    catch {exec mkdir ~/.smurf}
    eval exec $sm_editor $file_name
    set file_id [open $file_name r]
    set script [read -nonewline $file_id]
    close $file_id
    uplevel $script
}


<font color="#208020"># sedit --</font>
<font color="#208020"># Eval the last script edited with the command &#34;edit&#34;.</font>

<strong><a name="sedit_32">proc <a href="edit.tcl-annot.html#sedit">sedit</a></a></strong><a name="sedit"></a> {} {
    global pid
    set local_tmp_dir /tmp

    set file_name ~/.smurf/last_script.tcl
    catch {exec mkdir ~/.smurf}
    set file_id [open $file_name r]
    set script [read -nonewline $file_id]
    close $file_id
    uplevel $script
}


<font color="#208020"># eScr --</font>
<font color="#208020"># usage : eScr dtr</font>
<font color="#208020">#</font>
<font color="#208020">#   Edit a script in a file and eval it.</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters :</font>
<font color="#208020">#   string - The name of the file.</font>
<font color="#208020">#</font>
<font color="#208020"># Return value :</font>
<font color="#208020">#   Result of the script</font>

<strong><a name="eScr_56">proc <a href="edit.tcl-annot.html#eScr">eScr</a></a></strong><a name="eScr"></a> {fileName} {
    global pid
    global sm_editor

    eval exec $sm_editor $fileName
    set file_id [open $fileName r]
    set script [read -nonewline $file_id]
    close $file_id
    uplevel $script
}

</pre>
<hr>
<font size="-2">
<a href="xsmurf_tcl_lib_intro.html">Overview</a> | Index by:  <a href="index_main.html#byfilename">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a><br>
<cite>File generated 2008-04-03 at 09:49.</cite>
</font>
</body>
</html>

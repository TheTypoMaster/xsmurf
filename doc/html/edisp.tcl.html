<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- Generated by TclDoc 0.3 -->
<html>
<head><title>edisp.tcl</title></head>
<body bgcolor="#ffffff">
<font size="-2">
<a href="xsmurf_tcl_lib_intro.html">Overview</a> | Index by:  <a href="index_main.html#edisp.tcl">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a>
</font>
<hr>
<strong>edisp.tcl</strong>
(<a href="edisp.tcl-annot.html">annotations</a> | <a href="edisp.tcl.txt">original source</a>)
<p>
<pre>
<font color="#208020"># edisp.tcl --</font>
<font color="#208020">#</font>
<font color="#208020">#       This file implements the Tcl code for ...</font>
<font color="#208020">#</font>
<font color="#208020">#   Copyright 1998 Centre de Recherche Paul Pascal, Bordeaux, France.</font>
<font color="#208020">#   Written by Nicolas Decoster.</font>
<font color="#208020">#</font>
<font color="#208020">#  RCS : $Id: edisp.tcl,v 1.6 1999/01/08 15:44:19 decoster Exp $</font>
<font color="#208020">#</font>

<font color="#208020"># edisp --</font>
<font color="#208020"># usage : edisp str [int] [int] [int] [int]</font>
<font color="#208020">#</font>
<font color="#208020">#   Display an ext image.</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters :</font>
<font color="#208020">#   string  - The name of the ext image.</font>
<font color="#208020">#   integer - Width to display.</font>
<font color="#208020">#   integer - Heigth to display.</font>
<font color="#208020">#   integer - Horizontal offset.</font>
<font color="#208020">#   integer - Vertical offset.</font>
<font color="#208020">#</font>
<font color="#208020"># Return value :</font>
<font color="#208020">#   Name of the created window.</font>

<strong><a name="edisp_26">proc <a href="edisp.tcl-annot.html#edisp">edisp</a></a></strong><a name="edisp"></a> {eiName args} {
    global viewNb

    <a name="lassign(1)"><a href="./tools.tcl.html#lassign_67">lassign</a></a> {gah cvwidth cvheight} [einfo [lindex $eiName 0]]
    set eihoffset 0
    set eivoffset 0
    if {$cvwidth &gt;= 400} {
	set zoom [expr { 400.0/$cvwidth }]
    } else {
	set zoom 1
    }

    <font color="#208020"># Get args.</font>

    while {[string match -* $args]} {
	switch -exact -- [lindex $args 0] {
	    -width {
		set cvwidth [lindex $args 1]
		set args [lreplace $args 0 1]
	    }
	    -height {
		set cvheight [lindex $args 1]
		set args [lreplace $args 0 1]
	    }
	    -eihoffset {
		set eihoffset [lindex $args 1]
		set args [lreplace $args 0 1]
	    }
	    -eivoffset {
		set eivoffset [lindex $args 1]
		set args [lreplace $args 0 1]
	    }
	    -zoom {
		set zoom [lindex $args 1]
		set args [lreplace $args 0 1]
	    }
	    --  {
		set args [lreplace $args 0 0]
		break
	    }
	    default {
		return -code error &#34;unknown option \&#34;[lindex $args 0]\&#34;&#34;
	    }
	}
    }

    set cvwidth [expr { int($cvwidth * $zoom) }]
    set cvheight [expr { int($cvheight * $zoom) }]

    incr cvwidth 80
    incr cvheight 60

    set edId $viewNb
    <a name="toplevel(1)"><a href="./tkcon.tcl.html#toplevel_5837">toplevel</a></a> .ed$edId
    set w [canvas .ed$edId.c -width $cvwidth -height $cvheight]
    pack $w
    incr viewNb
    bind .ed$edId &lt;Control-x&gt;&lt;Control-d&gt; [list destroy .ed$edId]

    myEiWin .ed${edId}.eiw $w $cvwidth $cvheight 0 0 $eihoffset $eivoffset $zoom $eiName

    label .ed$edId.msg -text &#34;ha ha ha !&#34;
    pack .ed$edId.msg

    bind .ed$edId &lt;Right&gt;        &#34;.ed${edId}.eiw mult_zoom 1.2&#34;
    bind .ed$edId &lt;Left&gt;         &#34;.ed${edId}.eiw mult_zoom 0.8&#34;
    bind .ed$edId &lt;Up&gt;           &#34;.ed${edId}.eiw next_signal&#34;
    bind .ed$edId &lt;Down&gt;         &#34;.ed${edId}.eiw prev_signal&#34;
    bind .ed$edId &lt;l&gt;            &#34;.ed${edId}.eiw linear_coding&#34;
    bind .ed$edId &lt;b&gt;            &#34;.ed${edId}.eiw binary_coding&#34;

    bind .ed$edId &lt;Control-l&gt;    &#34;.ed${edId}.eiw reinit&#34;
    bind .ed$edId &lt;2&gt;            &#34;+ .ed${edId}.eiw cancel&#34;

    bind .ed$edId &lt;1&gt; &#34;.ed${edId}.eiw set_box %x %y&#34;
    <font color="#208020">#bind .ed$edId &lt;1&gt; &#34;.ed${edId}.eiw end_box %x %y&#34;</font>
    bind .ed$edId &lt;Motion&gt; &#34;.ed${edId}.eiw motion_box %x %y&#34;
    bind .ed$edId &lt;Motion&gt; &#34;+ .ed${edId}.msg configure -text \[.ed${edId}.eiw the_motion %x %y\]&#34;

    bind .ed$edId &lt;d&gt;     &#34;.ed${edId}.eiw disableRefresh&#34;
    bind .ed$edId &lt;e&gt;     &#34;.ed${edId}.eiw enableRefresh&#34;

    return $w
}
</pre>
<hr>
<font size="-2">
<a href="xsmurf_tcl_lib_intro.html">Overview</a> | Index by:  <a href="index_main.html#byfilename">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a><br>
<cite>File generated 2008-04-03 at 09:49.</cite>
</font>
</body>
</html>

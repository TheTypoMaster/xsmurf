<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- Generated by TclDoc 0.3 -->
<html>
<head><title>extImageTools.tcl</title></head>
<body bgcolor="#ffffff">
<font size="-2">
<a href="xsmurf_tcl_lib_intro.html">Overview</a> | Index by:  <a href="index_main.html#extImageTools.tcl">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a>
</font>
<hr>
<strong>extImageTools.tcl</strong>
(<a href="extImageTools.tcl-annot.html">annotations</a> | <a href="extImageTools.tcl.txt">original source</a>)
<p>
<pre>
<font color="#208020"># extImageTools.tcl --</font>
<font color="#208020">#</font>
<font color="#208020">#       This file implements the Tcl code for some ext-image tools.</font>
<font color="#208020">#</font>
<font color="#208020">#   Copyright 2002 Centre de Recherche Paul Pascal, Bordeaux, France.</font>
<font color="#208020">#   Written by Pierre Kestener.</font>
<font color="#208020">#</font>
<font color="#208020">#</font>

package provide extImageTools


<font color="#208020"># eimoment --</font>
<font color="#208020"># usage: eimoment ExtImage int [float]</font>
<font color="#208020">#</font>
<font color="#208020">#   Compute a given moment of an ext-image (using modulus !)</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters:</font>
<font color="#208020">#   ExtImage   - ExtImage to treat.</font>
<font color="#208020">#   integer    - Order of the moment.</font>
<font color="#208020">#   [float]    - extra argument usefull to compute centered moment.</font>
<font color="#208020">#                default value is zero.</font>
<font color="#208020">#</font>
<font color="#208020"># Options:</font>
<font color="#208020">#</font>
<font color="#208020">#</font>
<font color="#208020"># Return value:</font>
<font color="#208020">#   The moment.</font>

<strong><a name="eimoment_30">proc <a href="extImageTools.tcl-annot.html#eimoment">eimoment</a></a></strong><a name="eimoment"></a> {extimage order {mean 0} args } {
    set m0 [eval &#34;efct $extimage pow(x,0)            $args&#34;]
    set m  [eval &#34;efct $extimage pow(x-$mean,$order) $args&#34;]
    if {$m0!=0} {
	set res [expr $m/$m0]
    } else {
	set res &#34;&#34;
    }

    return $res
}


<font color="#208020"># ei3Dsmallmoment --</font>
<font color="#208020"># usage: ei3Dsmallmoment ExtImage int [float]</font>
<font color="#208020">#</font>
<font color="#208020">#   Compute a given moment of a 3Dsmall ext-image (using modulus !)</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters:</font>
<font color="#208020">#   ExtImage3Dsmall   - ExtImage to treat.</font>
<font color="#208020">#   integer           - Order of the moment.</font>
<font color="#208020">#   [float]           - extra argument usefull to compute centered moment.</font>
<font color="#208020">#                       default value is zero.</font>
<font color="#208020">#</font>
<font color="#208020"># Options:</font>
<font color="#208020">#</font>
<font color="#208020"># Return value:</font>
<font color="#208020">#   The moment.</font>

<strong><a name="ei3Dsmallmoment_59">proc <a href="extImageTools.tcl-annot.html#ei3Dsmallmoment">ei3Dsmallmoment</a></a></strong><a name="ei3Dsmallmoment"></a> {extimage order {mean 0} args } {
    set m0 [eval &#34;efct3Dsmall $extimage pow(x,0)            $args&#34;]
    set m  [eval &#34;efct3Dsmall $extimage pow(x-$mean,$order) $args&#34;]
    if {$m0!=0} {
	set res [expr $m/$m0]
    } else {
	set res &#34;&#34;
    }

    return $res
}


<font color="#208020"># eimomentlog --</font>
<font color="#208020"># usage: eimomentlog ExtImage int [float]</font>
<font color="#208020">#</font>
<font color="#208020">#   Compute a given moment of an ext-image (using modulus !)</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters:</font>
<font color="#208020">#   ExtImage   - ExtImage to treat.</font>
<font color="#208020">#   integer    - Order of the moment.</font>
<font color="#208020">#   [float]    - extra argument usefull to compute centered moment.</font>
<font color="#208020">#                default value is zero.</font>
<font color="#208020">#</font>
<font color="#208020"># Options:</font>
<font color="#208020">#</font>
<font color="#208020">#</font>
<font color="#208020"># Return value:</font>
<font color="#208020">#   The moment.</font>

<strong><a name="eimomentlog_89">proc <a href="extImageTools.tcl-annot.html#eimomentlog">eimomentlog</a></a></strong><a name="eimomentlog"></a> {extimage order {mean 0} args } {
    set m0 [eval &#34;efct $extimage pow(x,0)                 $args&#34;]
    set m  [eval &#34;efct $extimage pow(log(x)-$mean,$order) $args&#34;]
    if {$m0!=0} {
	set res [expr $m/$m0]
    } else {
	set res &#34;&#34;
    }

    return $res
}


<font color="#208020"># ei3Dsmallmomentlog --</font>
<font color="#208020"># usage: ei3Dsmallmomentlog ExtImage int [float]</font>
<font color="#208020">#</font>
<font color="#208020">#   Compute a given moment of a 3Dsmall ext-image (using modulus !)</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters:</font>
<font color="#208020">#   ExtImage3Dsmall   - ExtImage to treat.</font>
<font color="#208020">#   integer           - Order of the moment.</font>
<font color="#208020">#   [float]           - extra argument usefull to compute centered moment.</font>
<font color="#208020">#                       default value is zero.</font>
<font color="#208020">#</font>
<font color="#208020"># Options:</font>
<font color="#208020">#</font>
<font color="#208020">#</font>
<font color="#208020"># Return value:</font>
<font color="#208020">#   The moment.</font>

<strong><a name="ei3Dsmallmomentlog_119">proc <a href="extImageTools.tcl-annot.html#ei3Dsmallmomentlog">ei3Dsmallmomentlog</a></a></strong><a name="ei3Dsmallmomentlog"></a> {extimage order {mean 0} args } {
    set m0 [eval &#34;efct3Dsmall $extimage pow(x,0)                 $args&#34;]
    set m  [eval &#34;efct3Dsmall $extimage pow(log(x)-$mean,$order) $args&#34;]
    if {$m0!=0} {
	set res [expr $m/$m0]
    } else {
	set res &#34;&#34;
    }

    return $res
}


<font color="#208020"># eistats --</font>
<font color="#208020"># usage: eistats ExtImage int</font>
<font color="#208020">#</font>
<font color="#208020">#   Compute successive moments of an image.</font>
<font color="#208020">#</font>
<font color="#208020"># Parameters:</font>
<font color="#208020">#   Image   - Image to treat.</font>
<font color="#208020">#   integer - Order of the upper moment. Must be greater or equal to 2.</font>
<font color="#208020">#</font>
<font color="#208020"># Return value:</font>
<font color="#208020">#   List of the variance and of the moments.</font>

<strong><a name="eistats_144">proc <a href="extImageTools.tcl-annot.html#eistats">eistats</a></a></strong><a name="eistats"></a> {image order} {
    if {$order &lt; 2} {
	return -code error &#34;&#34;
    }

    for {set k 1} {$k &lt;= $order} {incr k} {
	set res [<a name="eimoment(1)"><a href="./extImageTools.tcl.html#eimoment_30">eimoment</a></a> $image $k]
        lappend resLst $res
    }

    set variance [expr { sqrt([lindex $resLst 1]-pow([lindex $resLst 0],2)) }]

    return [concat $variance $resLst]
}

</pre>
<hr>
<font size="-2">
<a href="xsmurf_tcl_lib_intro.html">Overview</a> | Index by:  <a href="index_main.html#byfilename">file name</a> |
<a href="index_main.html#byprocname">procedure name</a> |
<a href="index_main.html#bycall">procedure call</a> |
<a href="index_annot_full.html">annotation</a><br>
<cite>File generated 2008-04-03 at 09:49.</cite>
</font>
</body>
</html>
